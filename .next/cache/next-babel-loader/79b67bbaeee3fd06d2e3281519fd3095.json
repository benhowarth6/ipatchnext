{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { loadStripe } from '@stripe/stripe-js';\nvar stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);\nexport function initiateCheckout() {\n  return _initiateCheckout.apply(this, arguments);\n}\n\nfunction _initiateCheckout() {\n  _initiateCheckout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _ref,\n        lineItems,\n        stripe,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _ref = _args.length > 0 && _args[0] !== undefined ? _args[0] : {}, lineItems = _ref.lineItems;\n            _context.next = 3;\n            return stripePromise;\n\n          case 3:\n            stripe = _context.sent;\n            _context.next = 6;\n            return stripe.redirectToCheckout({\n              mode: 'payment',\n              lineItems: lineItems,\n              successUrl: \"\".concat(window.location.origin, \"?session_id={CHECKOUT_SESSION_ID}\"),\n              cancelUrl: window.location.origin\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _initiateCheckout.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/benhowarth/Desktop/iPatchNext copy/lib/payments.js"],"names":["loadStripe","stripePromise","process","env","NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY","initiateCheckout","lineItems","stripe","redirectToCheckout","mode","successUrl","window","location","origin","cancelUrl"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,mBAA3B;AAEA,IAAMC,aAAa,GAAGD,UAAU,CAACE,OAAO,CAACC,GAAR,CAAYC,kCAAb,CAAhC;AAEA,gBAAsBC,gBAAtB;AAAA;AAAA;;;+EAAO;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2EAAgD,EAAhD,EAAkCC,SAAlC,QAAkCA,SAAlC;AAAA;AAAA,mBACgBL,aADhB;;AAAA;AACCM,YAAAA,MADD;AAAA;AAAA,mBAGCA,MAAM,CAACC,kBAAP,CAA0B;AAC9BC,cAAAA,IAAI,EAAE,SADwB;AAE9BH,cAAAA,SAAS,EAATA,SAF8B;AAG9BI,cAAAA,UAAU,YAAKC,MAAM,CAACC,QAAP,CAAgBC,MAArB,sCAHoB;AAI9BC,cAAAA,SAAS,EAAEH,MAAM,CAACC,QAAP,CAAgBC;AAJG,aAA1B,CAHD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { loadStripe } from '@stripe/stripe-js';\n\nconst stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);\n\nexport async function initiateCheckout({ lineItems } = {}) {\n  const stripe = await stripePromise;\n\n  await stripe.redirectToCheckout({\n    mode: 'payment',\n    lineItems,\n    successUrl: `${window.location.origin}?session_id={CHECKOUT_SESSION_ID}`,\n    cancelUrl: window.location.origin,\n  });\n}"]},"metadata":{},"sourceType":"module"}